{% extends 'layout.html' %}

{% block content %}
<div class="art-deco-card">
    <h2>Manage Tags</h2>
    
    <!-- Add New Tag Form -->
    <form method="POST" action="{{ url_for('tags.add_tag') }}" class="vintage-form">
        <div class="form-group">
            <label for="name">New Tag Name:</label>
            <input type="text" id="name" name="name" required class="vintage-input">
            <button type="submit" class="vintage-button">
                <i class="fas fa-plus"></i> Add Tag
            </button>
        </div>
    </form>
    
    <!-- Tags List -->
    <div class="tags-list">
        {% for tag in tags %}
        <div class="tag-item">
            <form method="POST" action="{{ url_for('tags.edit_tag', tag_id=tag.id) }}" class="inline-form">
                <input type="text" name="name" value="{{ tag.name }}" class="vintage-input">
                <button type="submit" class="vintage-button small">
                    <i class="fas fa-save"></i> Update
                </button>
            </form>
            
            <form method="POST" action="{{ url_for('tags.delete_tag', tag_id=tag.id) }}" class="inline-form">
                <button type="submit" class="vintage-button small danger">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </form>
            
            <span class="tag-count">{{ tag.parts|length }} parts</span>
        </div>
        {% else %}
        <p>No tags yet. Add your first tag above.</p>
        {% endfor %}
    </div>
    
    <a href="{{ url_for('parts.gallery') }}" class="vintage-button">
        <i class="fas fa-arrow-left"></i> Back to Gallery
    </a>
</div>
{% endblock %}